%META:TOPICINFO{author="ProjectContributor" date="1179177105" format="1.1" version="1.1"}%
---+!! !DpSyntaxHighlighterPlugin
<!--
One line description, required for extensions repository catalog.
   * Set SHORTDESCRIPTION = Client side syntax highlighting using the [[http://code.google.com/p/syntaxhighlighter/][dp.SyntaxHighlighter]]
-->

This plugin provides client side syntax highlighting using the [[http://code.google.com/p/syntaxhighlighter/][dp.SyntaxHighlighter]] by Alex Gorbatchev. !JavaScript needs to be enabled on the clients web browser for this to work.

%TOC%

---++ Syntax Rules

The code goes between the tags =%<nop>CODE{...}%= and =%ENDCODE%=.

=%<nop>CODE{...}%= can have the following parameters:
| *Parameter* | *Description* |
| ="..."= or =lang="..."= | The programming language to be highlighted. See <a href="#Supported_Languages">Supported Languages</a>. |
| =nogutter="on"= | Will not display the gutter. |
| =nocontrols="on"= | Will not display controls at the top. |
| =collapse="on"= | Will collapse the block by default. |
| =firstline="value"= | Will begin line count at value. Default value is 1. |
| =showcolumns="on"= | Will show row columns in the first line. |
| =el="..."= | HTML element to display the code in. Can be =pre= or =textarea=. Default is =pre=. See [[#Pre_vs_Textarea]]. |
| =rows="value"= %BR% =cols="value"= | Sets the rows and columns attributes. %BR% Recommend if using textarea so the code can be seen clearly when !JavaScript is not available. |

---+++ Using %TOPIC% With Other Syntax Highlighters

Currently all the Foswiki syntax highlighting plugins use the same =%<nop>CODE%= syntax. This allows you to switch the highlighter you use without having to update all your topics to the new syntax. However, it also means that if you have two or more highlighting plugins installed on your system, the plugin that is first in =$Foswiki::cfg{PluginsOrder}= (or by default, first alphabetically) will consume all the =%<nop>CODE%= blocks.

Version 1.2 of this plugin added support for using the %<nop>CODE_DP% syntax, which allows you to explicitly which plugin you want to highlight your code.

Clearly this is not the best solution to the problem of using more than one highlighting plugin. You can read the background on why this approach was taking in the [Foswikitask:Item1353][task report]].

---+++ Pre vs Textarea

There are known problems when displaying XML (and HTML) in a =pre= element. See http://code.google.com/p/syntaxhighlighter/wiki/PreAndTextarea for more information.

---++ Supported Languages

The following languages are supported:

   * as3, actionscript3
   * css
   * c#, c-sharp, csharp
   * c, cpp, c++
   * vb, vb.net
   * delphi, pascal
   * js, jscript, javascript
   * pl, perl
   * php
   * py, python
   * ruby
   * sql
   * xml, xhtml, xslt, html, xhtml

Any of these can be used in the =lang= parameter.

---++ Examples

Below is a screen shot of how the rendered code will look.

<img src="%ATTACHURLPATH%/screenshot.png" alt="screenshot of plugin" width='592' height='422' />

---++ Installation Instructions

%$INSTALL_INSTRUCTIONS%

If the plugin is installed correcty, the following should be rendered:

%CODE{ lang="javascript" }%
function hello () {
    alert('hello // world');
}
%ENDCODE%

---++ Plugin Info

|  Plugin Author(s): | Foswiki:Main.AndrewJones |
|  Plugin Release: | %$RELEASE% |
|  Plugin Version: | %$VERSION% |
|  Dp Syntax Highlighter Version: | 1.5.1 |
|  Copyright: | &copy; 2007 - 2009 Foswiki:Main.AndrewJones |
|  License: | [[http://www.gnu.org/licenses/gpl.html][GPL (Gnu General Public License)]] |
|  Dp Syntax Highlighter License: | [[http://www.gnu.org/licenses/lgpl.html][LGPL (Gnu Lesser General Public License)]] |
|  Change History: | <!-- versions below in reverse order -->&nbsp; |
|  29 Mar 2009 | 1.2: Added =%<nop>CODE_DP%= syntax so it can be used with other syntax highlighters (Foswikitask:Item1353) |
|  16 Mar 2009 | 1.1: Removed call to depreciated function. Will work correctly with TWikiCompatibilityPlugin disabled. |
|  25 Jan 2009 | Added missing screenshot  Foswiki:Main.WillNorris |
|  07 Jan 2009 | 1.0: Ported to Foswiki; Will now use jQuery if found; Added support for Perl. Thanks to [[http://code.google.com/p/syntaxhighlighter/issues/detail?id=113&sort=-modified&colspec=ID%20Type%20Status%20Priority%20Milestone%20Owner%20Summary%20Modified][Marty Kube]]. |
|  25 Mar 2008 | Arthur Clemens: Added support for !ActionScript 3. Thanks to [[http://www.digitalflipbook.com/archives/2007/09/as3_syntax_high.php][Mark Walters]] (digitalflipbook.com). |
|  14646 | Fixed adding JS into highlighted HTML (#3) |
|  14642 | Upgrade highlighter to 1.5.1 |
|  14046 | Initial version |
|  Dp Syntax Highlighter Home | http://code.google.com/p/syntaxhighlighter |
|  Plugin Home: | http://foswiki.org/Extensions/DpSyntaxHighlighterPlugin |
|  Support: | http://foswiki.org/Support/DpSyntaxHighlighterPlugin |

<!-- Do _not_ attempt to edit this topic; it is auto-generated. Please add comments/questions/remarks to the Dev topic instead. -->
